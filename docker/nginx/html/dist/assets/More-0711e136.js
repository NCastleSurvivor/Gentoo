import{_ as F}from"./index-429ff8e5.js";/* empty css                   */import{a as S,b as j,c as D,d as K,e as q}from"./constants-ff0dbeed.js";/* empty css                   */import{d as z,w as G,f as c,C as H,N as s,I as o,ap as O,M as i,a7 as r,G as p,u as y,H as m,aq as R,W,E as C,a4 as Y,ar as J,L as P,ak as Q,af as X,ai as Z,Y as ee}from"./element-plus-dc5e6ec0.js";import{s as le}from"./index-a3c3f250.js";const te={class:"filterbar"},ae=z({__name:"FilterBar",props:{articleListAll:{}},emits:["sendArticleList"],setup(I,{emit:B}){const w=I;G(()=>w.articleListAll,()=>{w.articleListAll.length>0&&(h=w.articleListAll)});const E=B,V=c(!1),k=c(!1),f=c(""),M=c("1"),d=c(0),t=c([]),_=c([]);let h=[],n=[];const g=u=>{const e=u.join("/");n=[],h.forEach(v=>{v.article_major.indexOf(e)!==-1&&n.push(v)})},L=u=>{const e=v=>h.filter(a=>a.article_major.includes(v));if(u==="1")M.value="1",f.value="",V.value=!1,n=[],d.value=0,t.value=[],n=h;else if(u>="2"&&u<="7"){V.value=!0,f.value="",n=[],d.value=parseInt(u)-1,t.value=[];const a=new Map([["2","文学"],["3","理学"],["4","工学"],["5","艺术学"],["6","农学"],["7","其他学科"]]).get(u);n=e(a)}E("sendArticleList",n)},A=async u=>{if(!u)C({title:"请输入搜索内容",type:"error"});else{V.value=!0,k.value=!0,n.splice(0);const e=await le({keyword:u});e.result_code===0&&(n=e.result,E("sendArticleList",n),n.length===0?C({title:"未找到相关文章",type:"error"}):C({title:"搜索成功！",message:`总共搜索到${n.length}篇文章`,type:"success"})),k.value=!1}};return(u,e)=>{const v=Y,a=J,T=P,x=Q,$=X,U=Z,N=O,b=ee;return i(),H("div",te,[s(N,{"default-active":M.value,mode:"horizontal",onSelect:L},{default:o(()=>[s(a,{class:"title",style:{cursor:"default"}},{default:o(()=>[r("课程选择： "),s(v,{direction:"vertical"})]),_:1}),s(T,{class:"item",effect:"light",content:"重复点击可以刷新文章列表哦~",placement:"top","open-delay":300},{default:o(()=>[s(a,{index:"1"},{default:o(()=>[r("全部")]),_:1})]),_:1}),s(a,{index:"2"},{default:o(()=>[r("文学")]),_:1}),s(a,{index:"3"},{default:o(()=>[r("理学")]),_:1}),s(a,{index:"4"},{default:o(()=>[r("工学")]),_:1}),s(a,{index:"5"},{default:o(()=>[r("艺术学")]),_:1}),s(a,{index:"6"},{default:o(()=>[r("农学")]),_:1}),s(a,{index:"7"},{default:o(()=>[r("其他学科")]),_:1}),d.value!==0?(i(),p(a,{key:0},{default:o(()=>[d.value===1?(i(),p(x,{key:0,modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value=l),placeholder:"请选择具体类别",options:y(S),props:{expandTrigger:"hover"},style:{width:"200px"},value:_.value,onChange:e[1]||(e[1]=l=>g(t.value))},null,8,["modelValue","options","value"])):m("",!0),d.value===2?(i(),p(x,{key:1,modelValue:t.value,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value=l),placeholder:"请选择具体类别",options:y(j),props:{expandTrigger:"hover"},style:{width:"200px"},value:_.value,onChange:e[3]||(e[3]=l=>g(t.value))},null,8,["modelValue","options","value"])):m("",!0),d.value===3?(i(),p(x,{key:2,modelValue:t.value,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value=l),placeholder:"请选择具体类别",options:y(D),props:{expandTrigger:"hover"},style:{width:"200px"},value:_.value,onChange:e[5]||(e[5]=l=>g(t.value))},null,8,["modelValue","options","value"])):m("",!0),d.value===4?(i(),p(x,{key:3,modelValue:t.value,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value=l),placeholder:"请选择具体类别",options:y(K),props:{expandTrigger:"hover"},style:{width:"200px"},value:_.value,onChange:e[7]||(e[7]=l=>g(t.value))},null,8,["modelValue","options","value"])):m("",!0),d.value===5?(i(),p(x,{key:4,modelValue:t.value,"onUpdate:modelValue":e[8]||(e[8]=l=>t.value=l),placeholder:"请选择具体类别",options:y(q),props:{expandTrigger:"hover"},style:{width:"200px"},value:_.value,onChange:e[9]||(e[9]=l=>g(t.value))},null,8,["modelValue","options","value"])):m("",!0)]),_:1})):m("",!0),s(a,{style:{cursor:"default",position:"absolute",right:"10px"}},{default:o(()=>[V.value?(i(),p($,{key:0,onClick:e[10]||(e[10]=l=>L("1"))},{default:o(()=>[r("还原 ")]),_:1})):m("",!0),s(U,{placeholder:"请输入你想要搜索的内容",modelValue:f.value,"onUpdate:modelValue":e[11]||(e[11]=l=>f.value=l),style:{width:"200px"},onKeyup:e[12]||(e[12]=R(l=>A(f.value),["enter"]))},null,8,["modelValue"]),W((i(),p($,{onClick:e[13]||(e[13]=l=>A(f.value))},{default:o(()=>[r("搜索")]),_:1})),[[b,k.value]])]),_:1})]),_:1},8,["default-active"])])}}});const de=F(ae,[["__scopeId","data-v-7aaa878e"]]),pe="/assets/More-a11281e6.svg";export{de as F,pe as M};

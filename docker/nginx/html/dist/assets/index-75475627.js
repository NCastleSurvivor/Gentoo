import{b,u as B,a as M,r as I,_ as w}from"./index-429ff8e5.js";import{d as C,f as h,w as L,M as d,C as u,D as s,u as $,Z as N,_ as V,F as p,V as E,G as P,H as U,J as D,O as F,P as H,N as y,U as R}from"./element-plus-dc5e6ec0.js";import{u as Z}from"./vue.f36acd1f-07939512.js";const z="/assets/MessageSideBar-e76ed107.svg",k=r=>(F("data-v-70430c72"),r=r(),H(),r),G={class:"messagesidebar-wrap"},J={class:"title"},O=["src"],j=k(()=>s("span",null,"我的消息",-1)),q={style:{margin:"30px 0 0"}},A=["onMouseenter","onClick"],K=k(()=>s("defs",null,[s("clipPath",{id:"master_svg0_132_5857"},[s("rect",{x:"0",y:"0",width:"16",height:"16",rx:"0"})])],-1)),Q={"clip-path":"url(#master_svg0_132_5857)"},T=["fill"],W=C({__name:"MessageSideBar",setup(r){const i=b(),f=B(),{unreadCountStore:c}=M(),_=["messageCommon","messageUsers","messageSystem"],x=["互动消息","关注动态","系统消息"],v=h([c.unreadCount.type_1,c.unreadCount.type_2,c.unreadCount.type_3]),e=h({background:["#fff","#fff","#fff"],color:["#3d3d3d","#3d3d3d","#3d3d3d"],svg_left_pos:[10,10,10]}),g=a=>{if(a<3)e.value={background:["#fff","#fff","#fff"],color:["#3d3d3d","#3d3d3d","#3d3d3d"],svg_left_pos:[10,10,10]},e.value.background[a]="#76fff5",e.value.color[a]="#fff",e.value.svg_left_pos[a]=40;else{const o=_.findIndex(n=>n===i.name);e.value={background:["#fff","#fff","#fff"],color:["#3d3d3d","#3d3d3d","#3d3d3d"],svg_left_pos:[10,10,10]},e.value.background[o]="#76fff5",e.value.color[o]="#fff",e.value.svg_left_pos[o]=40}},S=a=>{f.push({name:`${_[a]}`})};return L(i,async(a,o)=>{const n=_.findIndex(l=>l===a.name);e.value.background[n]="#76fff5",e.value.color[n]="#fff",e.value.svg_left_pos[n]=40},{immediate:!0}),f.beforeEach(async(a,o,n)=>{const l=_.findIndex(t=>t===o.name);v.value[l]=0,c.clearUnreadCount(l+1),await I({type:l+1}),n()}),(a,o)=>{const n=D;return d(),u("div",G,[s("div",J,[s("img",{src:$(z),alt:"MessageSideBar"},null,8,O),j]),s("div",q,[(d(),u(N,null,V(x,(l,t)=>s("div",{style:p({backgroundColor:e.value.background[t]}),onMouseenter:m=>g(t),onMouseleave:o[0]||(o[0]=m=>g(3)),onClick:m=>S(t),class:"choice-item",key:t},[(d(),u("svg",{style:p({left:`${e.value.svg_left_pos[t]}px`}),class:"svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",fill:"none",version:"1.1",width:"16",height:"16",viewBox:"0 0 16 16"},[K,s("g",Q,[s("g",null,[s("path",{d:"M6.10859489453125,14.0228552734375C5.88070289453125,14.0259552734375,5.66161189453125,13.9349552734375,5.50287989453125,13.7714552734375C5.16546249453125,13.4380552734375,5.16546249453125,12.8933552734375,5.50287989453125,12.5599552734375L10.01716689453125,8.0457052734375L5.50288089453125,3.5314252734375C5.16546249453125,3.1980952734375,5.16546249453125,2.6533182734375,5.50288089453125,2.3199942734375C5.83881189453125,1.9888756734375,6.37837689453125,1.9888756734375,6.71430689453125,2.3199942734375L12.42859689453125,8.034275273437501L6.71430689453125,13.7485552734375C6.55832689453125,13.9188552734375,6.33947689453125,14.0179552734375,6.10859489453125,14.0228552734375Z",fill:e.value.color[t],"fill-opacity":"1"},null,8,T)])])],4)),s("span",{style:p({color:e.value.color[t]})},E(l),5),v.value[t]!==0?(d(),P(n,{key:0,class:"badge",value:v.value[t],max:99},null,8,["value"])):U("",!0)],44,A)),64))])])}}});const X=w(W,[["__scopeId","data-v-70430c72"]]),Y={class:"index"},ee=C({__name:"index",setup(r){return Z({title:"消息中心",meta:[{name:"author",content:"nonhana"},{name:"viewport",content:"width=device-width, initial-scale=1.0"},{name:"charset",content:"utf-8"}]}),(i,f)=>{const c=R("router-view");return d(),u("div",Y,[y(X,{style:{"margin-right":"30px"}}),y(c)])}}});const oe=w(ee,[["__scopeId","data-v-3a5ce4a4"]]);export{oe as default};

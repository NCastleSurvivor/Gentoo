import{u as Y,a as $,_ as V}from"./index-429ff8e5.js";import{j as tt}from"./index-a3c3f250.js";import{f as et}from"./index-57f530b0.js";import{f as v}from"./index-9b3e9b96.js";import{M as lt}from"./More-0711e136.js";import{d as at,f as a,e as T,w as N,M as n,C as d,N as i,I as s,D as t,V as o,H as h,G as w,u as c,Z as st,_ as it,a0 as P,E as H,Q as ot,R as ct,K as nt,T as rt,O as ut,P as _t}from"./element-plus-dc5e6ec0.js";const dt="/assets/ReEdit-8c51f462.svg",mt="/assets/CancelCollect-f1954645.svg",pt="/assets/CancelCollect-f1954645.svg",vt="/assets/LittleLike-0469128d.svg",ht="/assets/LittleCollection-750a34bd.svg",ft="/assets/LittleShare-d2848122.svg",yt="/assets/LittleComment-790b4fa0.svg",m=u=>(ut("data-v-38c9c143"),u=u(),_t(),u),gt={class:"articlepersonalcenteritem-wrap"},Lt={style:{display:"flex"}},xt=["href","title"],Ct={key:0,class:"copied",style:{margin:"0 0 0 10px"}},kt=m(()=>t("span",null,"转载",-1)),At=[kt],Et={key:1,class:"original",style:{margin:"0 0 0 10px"}},It=m(()=>t("span",null,"原创",-1)),St=[It],bt={class:"more"},jt=["src"],Bt={style:{margin:"6px 6px 0 0"}},Dt=["src"],Rt=m(()=>t("span",null,"重新编辑",-1)),Mt={style:{margin:"6px 6px 0 0"}},Tt=["src"],Nt=m(()=>t("span",null,"删除文章",-1)),wt={style:{margin:"6px 6px 0 0"}},Pt=["src"],Ht=m(()=>t("span",null,"取消收藏",-1)),qt={class:"article-major"},Ft=["href","title"],Gt={class:"article-introduce"},Kt=["src"],Ot=["src"],Qt=["src"],Ut=["src"],Zt={class:"article-date"},zt={class:"article-date",style:{margin:"0 0 0 20px"}},Jt=at({__name:"ArticlePersonalCenterItem",props:{articleList:{}},emits:["getArticleList"],setup(u,{emit:q}){const l=u,F=q,C=Y(),{userStore:G}=$(),p=a(0),_=a(l.articleList.article_id),f=a(l.articleList.article_status),K=a(l.articleList.article_link??""),y=a(l.articleList.article_title),k=a(l.articleList.article_major),g=a(l.articleList.article_labels),L=a(l.articleList.article_introduce),A=a(v(l.articleList.article_uploaddate)),E=a(v(l.articleList.article_updatedate)),O=a(l.articleList.author_headphoto),Q=a(l.articleList.author_name),U=a(l.articleList.author_signature),Z=a(l.articleList.author_university),z=a(l.articleList.author_article_num),I=a(l.articleList.like_num),S=a(l.articleList.collection_num),b=a(l.articleList.share_num),j=a(l.articleList.comment_num),J=T(()=>k.value.join("-")),B=T(()=>window.location.origin+"/articleHome/"+_.value),W=e=>{e==="1"&&C.push({path:"/postArticle",query:{article_id:_.value}}),e==="2"&&P.confirm("注：删除之后的文章无法被再次找回！","是否删除该文章？",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then(async()=>{(await tt({article_id:_.value})).result_code===0&&(H({title:"文章删除成功！",type:"success"}),F("getArticleList",!0))}),e==="3"&&P.confirm("您确定要取消收藏该文章吗？","提醒",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"取消"}).then(async()=>{await et({article_id:_.value,action_type:1,user_id:G.userInfo.user_id}),H({title:"取消收藏成功！",message:"2s后刷新页面...",type:"success"}),setTimeout(()=>{window.location.reload()},2e3)})};return N(p,()=>{C.currentRoute.value.name==="MyCollection"&&(p.value=1)},{immediate:!0}),N(()=>l.articleList,(e,D)=>{_.value=e.article_id,f.value=e.article_status,K.value=e.article_link??"",y.value=e.article_title,k.value=e.article_major,g.value=e.article_labels,L.value=e.article_introduce,A.value=v(e.article_uploaddate),E.value=v(e.article_updatedate),O.value=e.author_headphoto,Q.value=e.author_name,U.value=e.author_signature,Z.value=e.author_university,I.value=e.like_num,S.value=e.collection_num,b.value=e.share_num,j.value=e.comment_num,z.value=e.author_article_num},{immediate:!0}),(e,D)=>{const x=ot,R=ct,X=nt,r=rt;return n(),d("div",gt,[i(r,{type:"flex",justify:"space-between"},{default:s(()=>[t("div",Lt,[t("a",{class:"title",href:B.value,target:"_blank",title:y.value},[t("span",null,o(y.value),1)],8,xt),f.value===1?(n(),d("div",Ct,At)):h("",!0),f.value===2?(n(),d("div",Et,St)):h("",!0)]),i(X,{onCommand:W},{dropdown:s(()=>[p.value===0?(n(),w(R,{key:0},{default:s(()=>[i(x,{command:"1",style:{display:"flex"}},{default:s(()=>[t("div",Bt,[t("img",{src:c(dt),alt:"ReEdit"},null,8,Dt)]),Rt]),_:1}),i(x,{command:"2",style:{display:"flex"}},{default:s(()=>[t("div",Mt,[t("img",{src:c(mt),alt:"DeleteArticle"},null,8,Tt)]),Nt]),_:1})]),_:1})):h("",!0),p.value===1?(n(),w(R,{key:1},{default:s(()=>[i(x,{command:"3",style:{display:"flex"}},{default:s(()=>[t("div",wt,[t("img",{src:c(pt),alt:"CancelCollect"},null,8,Pt)]),Ht]),_:1})]),_:1})):h("",!0)]),default:s(()=>[t("div",bt,[t("img",{src:c(lt),alt:"More"},null,8,jt)])]),_:1})]),_:1}),i(r,{type:"flex",style:{"margin-top":"10px"}},{default:s(()=>[t("div",qt,[t("span",null,o(J.value),1)]),(n(!0),d(st,null,it(g.value,(Wt,M)=>(n(),d("div",{class:"article-labels",key:M},[t("span",null,o(g.value[M]),1)]))),128))]),_:1}),i(r,null,{default:s(()=>[t("a",{href:B.value,target:"_blank",title:L.value},[t("span",Gt,o(L.value),1)],8,Ft)]),_:1}),i(r,{type:"flex",justify:"start"},{default:s(()=>[t("div",null,[i(r,{type:"flex",class:"action-list"},{default:s(()=>[t("div",null,[t("img",{src:c(vt),alt:"LittleLike"},null,8,Kt),t("span",null,o(I.value),1)]),t("div",null,[t("img",{src:c(ht),alt:"LittleCollection"},null,8,Ot),t("span",null,o(S.value),1)]),t("div",null,[t("img",{src:c(ft),alt:"LittleShare"},null,8,Qt),t("span",null,o(b.value),1)]),t("div",null,[t("img",{src:c(yt),alt:"LittleComment"},null,8,Ut),t("span",null,o(j.value),1)])]),_:1}),i(r,{type:"flex",style:{"margin-top":"10px"}},{default:s(()=>[t("span",Zt,"文章发表时间："+o(A.value),1),t("span",zt,"最后更新时间："+o(E.value),1)]),_:1})])]),_:1})])}}});const le=V(Jt,[["__scopeId","data-v-38c9c143"]]);export{le as A};
